:root{
  --bg-1:#0b0620; /* deep indigo */
  --bg-2:#12072b;
  --accent-cyan:#00f0ff;
  --accent-magenta:#ff2bd6;
  --accent-gold:#ffd166;
  --panel:#0f1220cc;
  --glass: rgba(255,255,255,0.04);
  --glass-2: rgba(255,255,255,0.02);
  --radius:14px;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
/* Accessibility: visible skip link */
.skip-link{position:absolute;left:12px;top:12px;background:#061224;color:#e6f7ff;padding:8px 12px;border-radius:8px;z-index:1000;transform:translateY(-120%);transition:transform .18s ease}
.skip-link:focus{transform:translateY(0);outline:3px solid var(--accent-cyan)}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:#e6e9ef; background:linear-gradient(120deg,var(--bg-1),var(--bg-2));
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  position:relative; overflow-x:hidden;
}
body::before{
  content:''; position:fixed; inset:0; pointer-events:none; 
  background:radial-gradient(circle 800px at 20% 50%, rgba(0,240,255,0.08), transparent),
             radial-gradient(circle 600px at 80% 80%, rgba(255,43,214,0.06), transparent),
             radial-gradient(circle 500px at 50% 0%, rgba(255,209,102,0.04), transparent);
  animation:bg-shift 20s ease-in-out infinite;
  z-index:0;
}
@keyframes bg-shift{
  0%, 100%{ transform:translate(0, 0); opacity:1; }
  50%{ transform:translate(40px, 60px); opacity:0.8; }
}
#bg-nodes{position:fixed;inset:0;pointer-events:none;mix-blend-mode:screen;z-index:1}
.topbar, main, .os-dock, .member-panel{position:relative;z-index:2}
.topbar{display:flex;justify-content:space-between;align-items:center;padding:18px 36px}
.brand{display:flex;gap:12px;align-items:center}
.logo{height:40px}
.studio{font-weight:600;color:var(--accent-gold)}
.top-actions .btn{margin-left:8px}

.stage{max-width:1200px;margin:30px auto;padding:24px}
.hero{padding:48px;position:relative;border-radius:18px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);box-shadow:0 10px 40px rgba(2,6,23,0.6);overflow:hidden}
.title{font-size:2.4rem;margin:0 0 8px}
.subtitle{margin:0 0 18px;color:#cfd6ff}
.hero-ctas{display:flex;gap:12px;margin-bottom:18px}
.btn{padding:10px 16px;border-radius:10px;border:0;cursor:pointer;font-weight:600}
.btn.primary{background:linear-gradient(90deg,var(--accent-cyan),var(--accent-magenta));color:#061224}
.btn.outlined{background:transparent;border:1px solid rgba(255,255,255,0.06);color:inherit}
.btn.cta{padding:12px 20px}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.08)}

.hero-panels{position:absolute;right:24px;top:12px;display:flex;flex-direction:column;gap:12px;align-items:flex-end}
.panel{background:linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));backdrop-filter: blur(6px);padding:12px 16px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,0.6);transform:translate3d(var(--x),var(--y),0);color:#dfe7ff}
.panel.small{width:110px}
.panel.medium{width:160px}
.panel.large{width:220px}
.os-dock{position:fixed;left:18px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:10px;padding:10px;background:rgba(255,255,255,0.02);border-radius:12px;box-shadow:0 10px 30px rgba(2,6,23,0.5)}
.dock-btn{background:transparent;color:var(--accent-cyan);border:0;padding:10px 12px;border-radius:8px;cursor:pointer;font-weight:700}
.dock-btn[aria-pressed="true"]{background:linear-gradient(90deg,var(--accent-cyan),var(--accent-magenta));color:#061224}

.what-is{margin-top:28px;padding:18px;background:var(--glass);border-radius:12px}
.pill-list{display:flex;gap:12px;list-style:none;padding:0;margin:12px 0 0}
.pill-list li{background:var(--glass-2);padding:8px 12px;border-radius:999px;color:#cfe8ff}

.systems{margin-top:28px}
.systems h2{margin:18px 0}
.panel, .card{transition:transform .28s cubic-bezier(.2,.9,.25,1), box-shadow .28s ease, background .28s ease}
.glow {box-shadow:0 18px 60px rgba(0,240,255,0.08), inset 0 0 40px rgba(255,43,214,0.02)}
.grid{display:grid;gap:12px}
.core-grid{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.expansion-grid{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.essential-grid{grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,0.45);transition:transform .22s ease,box-shadow .22s ease}
.card:hover{transform:translateY(-8px);box-shadow:0 18px 40px rgba(0,0,0,0.6)}
.card h3{margin:0 0 6px}

.guidelines{margin-top:24px;padding:16px;background:rgba(255,255,255,0.02);border-radius:10px}
.footer{margin-top:36px;padding:18px;display:flex;justify-content:space-between;color:#98a0d9}
.footer a{color:#cfd6ff;text-decoration:none;transition:color .2s ease}
.footer a:hover{color:#8b5cf6}

@media (max-width:720px){
  .os-dock,.member-panel{display:none}
  .stage{padding:12px}
  .hero{padding:24px}
  .hero-panels{display:none}
  .title{font-size:1.5rem}
  .topbar{padding:12px}
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .card,.panel{transition:none}
}

/* Entrance reveal animations */
.reveal{opacity:0;transform:translateY(10px);transition:opacity .6s ease,transform .6s cubic-bezier(.2,.9,.25,1)}
.reveal.show{opacity:1;transform:none}
@media (prefers-reduced-motion: reduce){
  .reveal{transition:none;opacity:1;transform:none}
}

/* Theme variables: default (dark) + light-mode override */
:root{
  --text-primary: #e6e9ef;
  --muted: #98a0d9;
  --bg-page: linear-gradient(120deg,var(--bg-1),var(--bg-2));
  --panel-bg: linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));
  --input-bg: rgba(255,255,255,0.03);
  --input-border: rgba(255,255,255,0.06);
  --focus-outline: var(--accent-cyan);
}

/* Light theme overrides */
.theme-light{
  --bg-1: #f6f8ff;
  --bg-2: #eef2ff;
  --text-primary: #0b1020;
  --muted: #44507a;
  --panel-bg: linear-gradient(180deg, rgba(8,10,20,0.02), rgba(8,10,20,0.01));
  --input-bg: rgba(8,10,20,0.03);
  --input-border: rgba(8,10,20,0.08);
  --focus-outline: #2b6df6;
  background: var(--bg-page);
}

/* Dark theme explicit class (applied by JS) */
.theme-dark{
  /* uses existing root variables */
}

/* Aicorn theme: airy, cyan-magenta accent */
.theme-aicorn{
  --bg-1: #f4fbff;
  --bg-2: #fff6ff;
  --text-primary: #081022;
  --muted: #3b4b6b;
  --accent-cyan: #00e6ff;
  --accent-magenta: #ff66c4;
  --panel-bg: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,250,255,0.95));
  --input-bg: rgba(8,10,20,0.03);
  --input-border: rgba(8,10,20,0.06);
  --focus-outline: #00e6ff;
}

/* Solar theme: warm, high-contrast */
.theme-solar{
  --bg-1: #fff8ef;
  --bg-2: #fff3e6;
  --text-primary: #1b1922;
  --muted: #6b5a4b;
  --accent-gold: #ffb74d;
  --panel-bg: linear-gradient(180deg, rgba(255,251,240,0.98), rgba(255,249,240,0.98));
  --input-bg: rgba(0,0,0,0.02);
  --input-border: rgba(0,0,0,0.06);
  --focus-outline: #ffb74d;
}

/* High-contrast mode for forms and controls */
.high-contrast input, .high-contrast textarea, .high-contrast select, .high-contrast .btn{
  background: #000000; color: #ffffff; border:2px solid #ffffff; box-shadow:none;
}
.high-contrast input[type="text"], .high-contrast input[type="email"], .high-contrast input[type="date"], .high-contrast input[type="password"], .high-contrast textarea, .high-contrast select {
  padding: 10px 8px; font-size: 1rem; font-family: inherit;
}
.high-contrast input[type="checkbox"], .high-contrast input[type="radio"] {
  width: 20px; height: 20px; accent-color: #ffd166;
}
.high-contrast label{color:#ffffff; font-weight:700; display:block; margin-bottom:6px}
.high-contrast label[style*="display: flex"] {
  display: flex; align-items: center; gap: 12px;
}
.high-contrast .btn.primary{background: #ffd166; color:#061224; border-color: transparent; font-weight:700}
.high-contrast .btn.outlined{background:transparent;border:2px solid #ffffff; color:#ffffff; font-weight:700}
.high-contrast input:focus, .high-contrast textarea:focus, .high-contrast select:focus, .high-contrast .btn:focus{
  outline:3px solid #ffd166; outline-offset:2px; box-shadow: 0 0 0 4px rgba(255, 209, 102, 0.3);
}
.high-contrast .appeal-form .form-group, .high-contrast .contact-form .form-group {
  margin-bottom: 20px;
}
.high-contrast h3 { color: #ffffff; font-weight: 700; }

/* Small toggle styles injected to header */
.theme-toggle, .contrast-toggle{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:10px;border:1px solid var(--input-border);background:var(--input-bg);color:var(--text-primary);cursor:pointer;font-weight:600}
.theme-toggle svg, .contrast-toggle svg{height:16px;width:16px}

/* Settings panel */
.settings-panel, .theme-customizer{position:fixed;right:20px;top:80px;width:380px;max-width:calc(100% - 40px);background:var(--panel-bg);border-radius:12px;padding:12px;box-shadow:0 18px 60px rgba(2,6,23,0.6);z-index:1200;transform:translateY(-10px);opacity:0;transition:opacity .2s cubic-bezier(0.34, 1.56, 0.64, 1),transform .2s cubic-bezier(0.34, 1.56, 0.64, 1);backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,0.05)}
.settings-panel.visible, .theme-customizer.visible{transform:none;opacity:1}
.settings-panel header, .theme-customizer header{display:flex;justify-content:space-between;align-items:center;padding-bottom:8px;border-bottom:1px solid rgba(255,255,255,0.02)}
.settings-tabs{display:flex;gap:8px;padding:8px 0;border-bottom:1px solid rgba(255,255,255,0.02);margin-bottom:8px;overflow-x:auto}
.settings-tabs button{background:transparent;border:0;padding:6px 8px;border-radius:8px;color:var(--muted);cursor:pointer;transition:all .15s ease;white-space:nowrap}
.settings-tabs button:hover{color:var(--text-primary);background:rgba(255,255,255,0.05)}
.settings-tabs button.active{background:linear-gradient(90deg,var(--accent-cyan),var(--accent-magenta));color:#061224;font-weight:600}
.settings-body{padding:8px 2px;max-height:60vh;overflow:auto}
.settings-field{margin:10px 0;display:flex;flex-direction:column;gap:6px}
.settings-field input[type="checkbox"]{width:18px;height:18px;accent-color:var(--accent-cyan);cursor:pointer}
.settings-field select, .settings-field input[type="range"]{background:var(--input-bg);border:1px solid var(--input-border);border-radius:6px;color:var(--text-primary);padding:6px 8px;font-size:0.9rem;transition:all .2s ease}
.settings-field select:hover, .settings-field input[type="range"]:hover{border-color:var(--accent-cyan);box-shadow:0 0 8px rgba(0,240,255,0.1)}
.settings-field select:focus, .settings-field input[type="range"]:focus{outline:2px solid var(--accent-cyan);outline-offset:2px}
.settings-field label{color:var(--text-primary);font-size:0.9rem;font-weight:600;display:flex;align-items:center;gap:8px;cursor:pointer;transition:color .15s ease}
.settings-field label:hover{color:var(--accent-cyan)}
.settings-note{font-size:0.85rem;color:var(--muted);margin-top:8px;font-style:italic;line-height:1.4}

/* Form styling for appeals and contact pages */
.appeal-form, .contact-form {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(139, 92, 246, 0.05));
  border: 1px solid rgba(139, 92, 246, 0.2);
  border-radius: 12px;
  padding: 30px;
  margin: 20px 0;
  max-width: 600px;
}

.form-group {
  margin-bottom: 18px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.form-group label {
  color: var(--text-primary);
  font-weight: 600;
  font-size: 0.95rem;
}

.form-group label span {
  color: var(--accent-magenta);
  margin-left: 2px;
}

.form-group input, .form-group textarea, .form-group select {
  background: var(--input-bg);
  border: 1.5px solid var(--input-border);
  border-radius: 8px;
  color: var(--text-primary);
  padding: 10px 12px;
  font-size: 0.95rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.form-group input.error, .form-group textarea.error, .form-group select.error {
  border-color: #ff6b6b;
  background: rgba(255, 107, 107, 0.05);
}

.form-group input.error:focus, .form-group textarea.error:focus, .form-group select.error:focus {
  outline: 2px solid #ff6b6b;
  outline-offset: 2px;
  border-color: #ff6b6b;
}

.form-group input:focus, .form-group textarea:focus, .form-group select:focus {
  outline: 2px solid var(--accent-cyan);
  outline-offset: 2px;
  border-color: var(--accent-cyan);
}

.form-group textarea {
  min-height: 120px;
  resize: vertical;
}

.form-group input[type="checkbox"] {
  width: 18px;
  height: 18px;
  accent-color: var(--accent-cyan);
  cursor: pointer;
}

.form-group label[style*="display: flex"] {
  flex-direction: row;
  align-items: center;
  gap: 8px;
  margin-bottom: 0;
  cursor: pointer;
}

.form-group label[style*="display: flex"] span {
  margin-left: 0;
}
.settings-field label{font-weight:600;color:var(--muted)}
.settings-field input[type="text"], .settings-field input[type="email"], .settings-field select, .settings-field input[type="color"], .settings-field input[type="range"]{padding:8px;border-radius:8px;border:1px solid var(--input-border);background:var(--input-bg);color:var(--text-primary)}
.settings-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:12px;padding-top:8px;border-top:1px solid rgba(255,255,255,0.05)}
.settings-actions .btn{padding:8px 14px;font-size:0.9rem;font-weight:600;transition:all .15s ease}
.settings-actions .btn.primary{background:linear-gradient(90deg,var(--accent-cyan),var(--accent-magenta));border:0;color:#061224}
.settings-actions .btn.primary:hover{transform:translateY(-1px);box-shadow:0 6px 16px rgba(0,240,255,0.2)}
.settings-actions .btn.outlined{border:1px solid var(--input-border);background:transparent;color:var(--text-primary)}
.settings-actions .btn.outlined:hover{border-color:var(--accent-cyan);background:rgba(0,240,255,0.05)}
.settings-note{font-size:0.9rem;color:var(--muted);margin-top:8px}

/* customizer tweaks */
.theme-customizer .customizer-inner{width:360px}

/* Page transitions and animations */
body{transition:background-color .3s ease,color .3s ease}
main{animation:pageReveal .4s ease-out}
@keyframes pageReveal{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}

/* Button interactions */
.btn{transition:all .2s ease}
.btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px rgba(0,0,0,0.15)}
.btn:active:not(:disabled){transform:translateY(0)}

/* Touch-friendly adjustments for mobile */
@media (max-width:720px){
  .settings-panel, .theme-customizer{right:10px;left:10px;top:64px;width:auto}
  .settings-field{margin:12px 0}
  .settings-field select, .settings-field input[type="range"], .settings-field input[type="text"]{padding:12px;font-size:16px}
  .settings-tabs button{padding:8px 10px;font-size:0.9rem}
  .preview-sound{padding:6px 12px;font-size:0.9rem}
  .btn{padding:12px 16px}
}

@media (max-width:480px){
  .topbar{flex-wrap:wrap}
  .top-actions{flex-wrap:wrap;gap:6px}
  .theme-toggle, .contrast-toggle{padding:4px 8px;font-size:0.85rem}
  .settings-tabs{overflow-x:auto;-webkit-overflow-scrolling:touch}
}

